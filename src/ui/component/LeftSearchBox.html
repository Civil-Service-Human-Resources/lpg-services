<aside role="complementary">
    <input type="checkbox" id="hide-filter" class="hide-filters" />
    <label class="filter-label"for="hide-filter">search filters</label>
    <form class="filter-form" autocomplete="off" name="searchLearning" method="get" action="/search">
        <input type="hidden" id="query" name="q" value="{ query }" />
        <button type="submit" class="button">Apply search filters</button>
        <a class="clear-filters" href="/search?q={query}">Clear all filters</a>
        <div class="lpg-related-items form-group govuk-related-items--search leftSearchBox filter-toggle">
            <fieldset>
                <legend>
                    <h2 class="govuk-related-items__heading heading-small filter-headings">Learning type</h2>
                </legend>
                {#each Object.entries($i18n('courseTypes')) as filter}
                    <div class="multiple-choice">
                        <input type="checkbox" value="{filter[0]}" name="courseType" id="{filter[0]}"  checked="{(courseTypes || []).indexOf(filter[0]) > -1 ? 'checked' : ''}" >
                        <label for="{filter[0]}">{filter[1]}</label>
                    </div>
                {/each}
            </fieldset>
        </div>

        <div class="lpg-related-items govuk-related-items--flush form-group  govuk-related-items--keylined govuk-related-items--keylined--search leftSearchBox filter-toggle">
            <fieldset>

                <legend>
                    <h2 class="govuk-related-items__heading heading-small filter-headings">Cost</h2>
                </legend>

                <div class="multiple-choice">
                        <input id="cost" type="checkbox" name="cost" value="free" checked="{(cost || []).indexOf('free') > -1 ? 'checked' : ''}"  >
                        <label for="cost">Show only free</label>
                    </div>
            </fieldset>
        </div>

        <div class="lpg-related-items govuk-related-items--flush form-group govuk-related-items--keylined govuk-related-items--keylined--search leftSearchBox filter-toggle">
            <fieldset>
                <legend>
                    <h2 class="govuk-related-items__heading heading-small filter-headings">Your department</h2>
                </legend>
                {#each departments.yours as filter}
                <div class="multiple-choice">
                    <input type="checkbox" value="{filter.code}" name="department" id="{filter.code}" checked="{departments.selected.indexOf(filter.code) > -1 ? 'checked' : ''}" >
                    <label for="{filter.code}">{filter.name}</label>
                </div>
                {/each}
            </fieldset>
        </div>

        <div class="lpg-related-items govuk-related-items--flush form-group govuk-related-items--keylined govuk-related-items--keylined--search leftSearchBox filter-toggle">
            <fieldset>
                <legend>
                    <h2 class="govuk-related-items__heading heading-small filter-headings">Other departments</h2>
                </legend>
                {#each departments.other as filter}
                <div class="multiple-choice">
                    <input type="checkbox" value="{filter.code}" name="department" id="{filter.code}" checked="{departments.selected.indexOf(filter.code) > -1 ? 'checked' : ''}" >
                    <label for="{filter.code}">{filter.name}</label>
                </div>
                {/each}
            </fieldset>
        </div>

        <div class="lpg-related-items govuk-related-items--flush form-group govuk-related-items--keylined govuk-related-items--keylined--search leftSearchBox filter-toggle">
            <fieldset>
                <legend>
                    <h2 class="govuk-related-items__heading heading-small filter-headings">Your areas of work</h2>
                </legend>
                {#each areasOfWork.yours as filter}
                <div class="multiple-choice">
                    <input type="checkbox" value="{filter}" name="areaOfWork" id="{filter}" checked="{areasOfWork.selected.indexOf(filter) > -1 ? 'checked' : ''}" >
                    <label for="{filter}">{filter}</label>
                </div>
                {/each}
            </fieldset>
        </div>

        <div class="lpg-related-items govuk-related-items--flush form-group govuk-related-items--keylined govuk-related-items--keylined--search leftSearchBox filter-toggle">
            <fieldset>
                <legend>
                    <h2 class="govuk-related-items__heading heading-small filter-headings">Other areas of work</h2>
                </legend>
                {#each areasOfWork.other as filter}
                <div class="multiple-choice">
                    <input type="checkbox" value="{filter}" name="areaOfWork" id="{filter}" checked="{areasOfWork.selected.indexOf(filter) > -1 ? 'checked' : ''}" >
                    <label for="{filter}">{filter}</label>
                </div>
                {/each}
            </fieldset>
        </div>

        <div class="lpg-related-items govuk-related-items--flush form-group govuk-related-items--keylined govuk-related-items--keylined--search leftSearchBox filter-toggle">
            <fieldset>
                <legend>
                    <h2 class="govuk-related-items__heading heading-small filter-headings">Your interests</h2>
                </legend>
                {#each interests.yours as filter}
                <div class="multiple-choice">
                    <input type="checkbox" value="{filter}" name="interest" id="{filter}" checked="{interests.selected.indexOf(filter) > -1 ? 'checked' : ''}" >
                    <label for="{filter}">{filter}</label>
                </div>
                {/each}
            </fieldset>
        </div>

        <div class="lpg-related-items govuk-related-items--flush form-group govuk-related-items--keylined govuk-related-items--keylined--search leftSearchBox filter-toggle">
            <fieldset>
                <legend>
                    <h2 class="govuk-related-items__heading heading-small filter-headings">Other interests</h2>
                </legend>
                {#each interests.other as filter}
                <div class="multiple-choice">
                    <input type="checkbox" value="{filter}" name="interest" id="{filter}" checked="{interests.selected.indexOf(filter) > -1 ? 'checked' : ''}" >
                    <label for="{filter}">{filter}</label>
                </div>
                {/each}
            </fieldset>
        </div>

        <button type="submit" class="button">Apply search filters</button>
        <a class="clear-filters" href="/search?q={query}">Clear all filters</a>
    </form>
</aside>
