<Page title="Confirm" :_csrf>
    <div class="container">
        <div class="grid-row">
            <div class="column-full">
                <Breadcrumb :breadcrumbs/>
                <h1 class="heading-large">
                    <span class="heading-secondary">Booking a course</span>
                    Confirm your details before completing your booking
                </h1>
            </div>
        </div>
        <div class="grid-row">
            <div class="column-full">
                <div class="booking__panel">
                    <h3 class="heading-small">Course details</h3>
                    <ul>
                        <li>
                            <span class="booking__key">Course title</span>
                            <span class="booking__value">{{module.title || course.title}}</span>
                        </li>
                        <li>
                            <span class="booking__key">Start date</span>
                            <span class="booking__value">{{formatDate(event.date)}}</span>
                        </li>
                        <li>
                            <span class="booking__key">Location</span>
                            <span class="booking__value">{{event.location}}</span>
                        </li>
                        <li class="push-bottom">
                            <span class="booking__key">Duration</span>
                            <span class="booking__value">{{course.getDuration()}}</span>
                        </li>
                        <li>
                            <a href="{{breadcrumbs[2].url}}" class="booking__change">Change</a>
                        </li>

                    </ul>
                </div>
            </div>
        </div>
        <div class="grid-row">
            <div class="column-full">
                <div class="booking__panel">
                    <h3 class="heading-small">Payment details</h3>
                    <ul>
                        <li>
                            <span class="booking__key">Payment method</span>
                            <span class="booking__value"> {{fap ? 'Financial approver' : 'Purchase order' }}</span>
                        </li>
                        <li>
                            <span class="booking__key">Amount</span>
                            <span class="booking__value">&pound;{{module.price}}</span>
                        </li>
                        <li>
                            <a href="{{breadcrumbs[3].url}}" class="booking__change">Change</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="grid-row">
            <div class="column-full">
                <div class="booking__panel">
                    <h3 class="heading-small">Accessibility details</h3>
                    <div class="booking__tr">
                        <span class="booking__key"><span class="booking__key--centre">Accessibility needs</span></span>
                        <ul class="booking__values">

                            {{#if accessibilityReqs && accessibilityReqs.length}}
                                {{#each accessibilityReqs as requirement }}
                                    {{#if requirement}}
                                        <li class="booking__value booking__value--li">{{requirement === 'other' ? 'Other' : i18n('accessibility-requirements')[requirement]}}</li>
                                    {{else}}
                                        <li class="booking__value booking__value--li">None</li>
                                    {{/if}}
                                {{/each}}
                            {{/if}}
                        </ul>
                    </div>
                    <a href="{{breadcrumbs[2].url}}&tab=accessibility" class="booking__change">Change</a>
                </div>
            </div>
        </div>


        <div class="grid-row">
            <div class="column-full">
                <a class="button" href="/book/{{course.id}}/{{module.id}}/{{event.id}}/complete">Complete booking</a>
            </div>
        </div>

    </div>

</Page>
