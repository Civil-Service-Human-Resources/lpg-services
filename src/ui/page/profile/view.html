<Page title="Your profile" {_csrf}>
    <div class="container">
        <h1 class="heading-large">
            <span class="heading-primary">Your profile</span>
        </h1>
        {#if updateSuccessful}
            <Banner type="confirmation" customClass={'profile-banner'} message={$i18n('profile_updated')} />
        {/if}
        <div class="grid-row">
            <div class="column-full">
                <h2 class="heading heading-medium">
                    Personal details
                </h2>
                <table class="key-value-list key-value-list--auto u-space-b30 table--top">
                    <tbody>
                        <tr>
                            <td class="key-value-list__key key-value-list__key--auto">{$i18n('profile_name_label')}</td>
                            <td class="key-value-list__value key-value-list__value--auto lpg-given-name">
                                {$signedInUser.givenName || ''}
                            </td>
                            <td class="key-value-list__item-action">
                                <a href="/profile/given-name">Change
                                    <span class="visuallyhidden"> your first name</span>
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td class="key-value-list__key key-value-list__key--auto">{$i18n('profile_email_label')}</td>
                            <td class="key-value-list__value key-value-list__value--auto lpg-email-address">
                                {$signedInUser.userName}
                            </td>
                            <td class="key-value-list__item-action lpg-email-address-read-only">

                            </td>
                        </tr>

                        <tr>
                            <td class="key-value-list__key key-value-list__key--auto">{$i18n('profile_password_label')}</td>
                            <td class="key-value-list__value key-value-list__value--auto lpg-password">••••••••</td>
                            <td class="key-value-list__item-action">
                                <a href="/profile/password" class="visuallyhidden">Change
                                    <span class="visuallyhidden"> your password</span>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h2 class="heading heading-medium ">
                    Job details
                </h2>
                <p class="govuk-body">Job details are required to help create suggestions for your learning</p>
                <table class="key-value-list key-value-list--auto u-space-b30 table--top">
                    <tbody>
                        <tr>
                            <td class="key-value-list__key key-value-list__key--auto">{$i18n('profile_department_label')}</td>
                            <td class="key-value-list__value key-value-list__auto--auto lpg-department">
                                {#if $signedInUser.organisationalUnit.name}
                                    {$signedInUser.organisationalUnit.name}
                                {/if}
                            </td>
                            <td class="key-value-list__item-action">
                                <a href="/profile/department">Change
                                    <span class="visuallyhidden"> your job organisation</span>
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td class="key-value-list__key key-value-list__key--auto ">{$i18n('profile_primary-area-of-work_label')}</td>
                            <td class="key-value-list__value key-value-list__value--auto lpg-areas-of-work">
                                {#if $signedInUser.areasOfWork}
                                    {$signedInUser.areasOfWork[0]}
                                {/if}
                            </td>
                            <td class="key-value-list__item-action">
                                <a href="/profile/primary-area-of-work">Change
                                    <span class="visuallyhidden"> your primary area of work</span>
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td class="key-value-list__key key-value-list__key--auto ">{$i18n('profile_other-areas-of-work_label')}</td>
                            <td class="key-value-list__value key-value-list__value--auto lpg-areas-of-work">
                                <ul>
                                    {#if $signedInUser.otherAreasOfWork}
                                        {#each $signedInUser.otherAreasOfWork as aow}
                                            <li>
                                                {aow === 'other' ? 'Other' : aow.name}
                                            </li>
                                        {/each}
                                    {/if}
                                </ul>
                            </td>
                            <td class="key-value-list__item-action">
                                <a href="/profile/other-areas-of-work">Change
                                    <span class="visuallyhidden"> your other areas of work</span>
                                </a>
                            </td>
						</tr>
						<tr>
                            <td class="key-value-list__key key-value-list__key--auto ">{$i18n('profile_interest_label')}</td>
                            <td class="key-value-list__value key-value-list__value--auto">
                                <ul>
                                    {#if $signedInUser.interests}
                                        {#each $signedInUser.interests as interest}
                                            <li>
                                                {interest.name}
                                            </li>
                                        {/each}
                                    {/if}
                                </ul>
                            </td>
                            <td class="key-value-list__item-action">
                                <a href="/profile/interest">Change
                                    <span class="visuallyhidden"> your interests</span>
                                </a>
                            </td>
						</tr>
                        <tr>
                            <td class="key-value-list__key key-value-list__key--auto">{$i18n('profile_grade_label')}</td>
                            <td class="key-value-list__value key-value-value--auto lpg-grade">
                                {#if $signedInUser.grade}
                                    {$signedInUser.grade ? $signedInUser.grade.name : '' }
                                {/if}
                            </td>
                            <td class="key-value-list__item-action">
                                <a href="/profile/grade">Change
                                    <span class="visuallyhidden"> your job grade</span>
                                </a>
                            </td>
                        </tr>
						<tr>
                            <td class="key-value-list__key key-value-list__key--auto">{$i18n('profile_line-manager_label')}</td>
                            <td class="key-value-list__value key-value-value--auto lpg-grade">
                                {#if $signedInUser.lineManager && $signedInUser.lineManager.email}
                                    { $signedInUser.lineManager.email }
                                {/if}
                            </td>
                            <td class="key-value-list__item-action">
                                <a href="/profile/line-manager">Change
                                    <span class="visuallyhidden"> your line manager</span>
                                </a>
                            </td>
                        </tr>
                    </tbody>

                </table>


            </div>
        </div>
    </div>
</Page>
<script>
	import Page from '../../component/Page.html'
	import Banner from '../../component/Banner.html'

	export default {
		data() {
			return {
			}
		},

		components: {
			Page,
			Banner
		}
	}
</script>
