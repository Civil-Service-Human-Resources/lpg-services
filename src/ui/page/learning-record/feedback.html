<Page title="Leave details feedback" {_csrf}>
    <div class="container">
        <p class="no-margin">
            <a class="link-back" href="/learning-record/feedback">Back</a>
        </p>
        <h1 class="heading-xlarge">Leave feedback</h1>

        {#if invalidFeedback}
        <div class="error-summary" role="alert" aria-labelledby="error-summary" tabindex="-1">
            <h2 class="heading-medium error-summary-heading" id="error-summary">
                Invalid feedback
            </h2>
            <p>
                Please rate this learning in at least one category or provide a comment.
            </p>
        </div>
        {/if}

        <form autocomplete="off" name="feedbackForm" method="post" action="/learning-record/{course.id}/{module.id}/feedback">
            <div class="grid-row ">
                <div class="column-full ">
                    <p class="lede">Leave your feedback for { module.title || course.title }</p>
                </div>
            </div>

            {#each categories as category}
            <div class="grid-row ">
                <div class="column-one-half ">
                    <h2 class="heading-small">{$i18n('feedback_' + category + '_title')}</h2>
                        <fieldset class="bar-rating u-space-b30">
                        <legend>{$i18n('feedback_' + category + '_description', $i18n(module.type).toLowerCase())}</legend>

                        <div class="bar-rating__scale" aria-hidden="true">
                            <span class="u-float-left">Not for me</span>
                            <span class="u-float-right">Loved it</span>
                        </div>

                        <div class="bar-rating__wrapper">
                        
                            <input class="bar-rating__input" type="radio" id="star{category}5" name="{category}" aria-label="5 out of 5 stars" value="5">
                            <label for="star{category}5" title="I loved it - 5 stars" aria-label=`${$i18n('feedback_' + category + '_title')}: 5 out of 5 stars`>I loved it - 5 stars</label>

                            <input class="bar-rating__input" type="radio" id="star{category}4" name="{category}" aria-label="4 out of 5 stars" value="4">
                            <label for="star{category}4" title="It was pretty good - 4 stars" aria-label=`${$i18n('feedback_' + category + '_title')}: 4 out of 5 stars`>It was pretty good - 4 stars</label>

                            <input class="bar-rating__input" type="radio" id="star{category}3" name="{category}" aria-label="3 out of 5 stars" value="3">
                            <label for="star{category}3" title="It was OK - 3 stars" aria-label=`${$i18n('feedback_' + category + '_title')}: 3 out of 5 stars`>It was OK - 3 stars</label>

                            <input class="bar-rating__input" type="radio" id="star{category}2" name="{category}" aria-label="2 out of 5 stars" value="2">
                            <label for="star{category}2" title="I didn't enjoy it - 2 stars" aria-label=`${$i18n('feedback_' + category + '_title')}: 2 out of 5 stars`>I didn't enjoy it - 2 stars</label>

                            <input class="bar-rating__input" type="radio" id="star{category}1" name="{category}" aria-label="1 out of 5 stars" value="1">
                            <label for="star{category}1" title="This was definitely not for me - 1 star" aria-label=`${$i18n('feedback_' + category + '_title')}: 1 out of 5 stars`>This was definitely not for me - 1 star</label>
                        </div>

                        <div class="bar-rating__1to5" aria-hidden="true">
                            <ul>
                                <li>1</li>
                                <li>2</li>
                                <li>3</li>
                                <li>4</li>
                                <li>5</li>
                            </ul>
                        </div>
                    </fieldset>
                </fieldset>
                </div>
            </div>
            {/each}

            <div class="grid-row ">
                <div class="column-full ">
                    <fieldset>
                        <legend class="heading-small">Comments (optional)</legend>
                        <div class="form-group">
                            <label class="form-label" for="feedbackComments">	
                                Share your thoughts on this course
                            </label>
                            <textarea class="form-control" name="comments" id="feedbackComments" rows="5"></textarea>
                        </div>
                    </fieldset>
                </div>
            </div>

            <div class="grid-row ">
                <div class="column-full ">
                    <div class="form-group">
                        <button type="submit" class="button">Leave feedback</button>
                    </div>
                </div>
            </div>
            <input type="hidden" name="_csrf" value="{_csrf}">
        </form>
    </div>
</Page>
<script>
	import Page from '../../component/Page.html'

	export default {
		data() {
			return {
			}
		},

		components: {
			Page
		}
	}
</script>