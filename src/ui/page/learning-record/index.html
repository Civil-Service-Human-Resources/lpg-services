<Page title="Learning record" {_csrf}>
    <div class="container">
        <h1 class="heading-xlarge small-margin">Learning record</h1>
        <p class="govuk-body no-margin">This is a record of the learning you have completed.</p>
        <p class="govuk-body no-margin">A course will only appear in your learning record once you have completed all the modules that are required.</p>
        <div class="grid-row">
            <div class="column-full">
                {#if successTitle}
                    <Banner type="confirmation" title={successTitle} message={successMessage} />
                {/if}
            </div>
        </div>
        <div class="grid-row">
            <div class="column-full">
                <h2 class="heading heading-medium heading--red-top lpg-required-learning">
                    Required learning from your organisation
                </h2>
                {#if completedRequiredLearning.length}
                    <LearningRecordTable courses={completedRequiredLearning} />
                    {#if requiredLearning.results.length - completedRequiredLearning.length > 0}
                        <p class="no-margin">You have completed {completedRequiredLearning.length} of your required learning courses this
                            year and have <a href="/home">{requiredLearning.results.length - completedRequiredLearning.length} more</a> to do.</p>
                    {:else}
                        <p class="no-margin">You have completed all of your required learning for this reporting year.</p>
                    {/if}
                {:else}
                    <p>You haven't completed any required learning courses yet.</p>
                    {#if requiredLearning.results.length > 0}
                        <p class="no-margin">You have <a href="/home">{requiredLearning.results.length} course{#if requiredLearning.results.length > 1}s{/if}</a> to complete for this reporting year.</p>
                    {:else}
                        <p class="no-margin">You have completed all of your required learning for this reporting year.</p>
                    {/if}
                {/if}
            </div>
        </div>
        <div class="grid-row">
            <div class="column-full">
                <h2 class="heading heading-medium heading--red-top lpg-other-learning">
                    Other Learning
                </h2>
                {#if completedLearning.length}
                <LearningRecordTable courses={completedLearning} />
                {:else}
                <p>You haven't completed any other learning courses yet.</p>
                {/if}
            </div>
        </div>
    </div>
</Page>
<script>
	import Page from '../../component/Page.html'
	import Banner from '../../component/Banner.html'
	import LearningRecordTable from '../../component/LearningRecordTable.html'


	export default {
		data() {
			return {
			}
		},

		components: {
			Page,
			Banner,
			LearningRecordTable
		}
	}
</script>