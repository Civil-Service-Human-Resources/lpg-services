<Page title="{$i18n('suggestions_page_title')}">
    <div class="container">
        <div class="grid-row">
            <div class="column-full">
                <Search>
                    <h1 class="heading heading-large heading--flush">
                        {$i18n('suggestions_page_title')}
                    </h1>
                    <p>{$i18n('home_page_suggestions', $i18n('proposition_name'))}</p>
                </Search>

                {#if successTitle}
                <Banner type="confirmation" title={successTitle} message={successMessage} />
                {/if}
            </div>
        </div>
    </div>
    {#each courses as coursesGroup, index}
        {#if (index+1) === courses.length}
        <SuggestionsSection title={$i18n('departments')[$signedInUser.department] || $signedInUser.department} suggestedLearning="{coursesGroup}" home={false}/>
        {:elseif coursesGroup.length}
        <SuggestionsSection title={$i18n('areas-of-work')[areasOfWork[index]] || areasOfWork[index]} suggestedLearning="{coursesGroup}" home={false}/>
        {/if}
    {/each}
    {#each Object.keys(interests) as interest}
        {#if interests[interest].length}
            <SuggestionsSection title={$i18n('interests')[interest.toLowerCase().replace(' ','-')]} suggestedLearning="{interests[interest]}" home={false}/>
        {/if}
    {/each}
</Page>

<script>
	import Page from '../component/Page.html'
	import Banner from '../component/Banner.html'
	import SuggestionsSection from '../component/SuggestionsSection.html'
	import Search from '../component/Search.html'

	export default {
		data() {
			return {
			}
		},

		components: {
			Page,
			Banner,
			SuggestionsSection,
			Search
		}
	}
</script>