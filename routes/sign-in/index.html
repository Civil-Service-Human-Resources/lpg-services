<:Window/>
<:Head>
	<title>Sign in</title>
</:Head>

<Layout page='login'>
	<div class="auth-page">
		<div class="container page">
			<div class="row">

				<div class="col-md-6 offset-md-3 col-xs-12">

					<div class="column-two-thirds">

						<h1 class="heading-large">Sign in</h1>

						<form method="post" action="https://localhost:9443/commonauth" name="userLoginForm" class="push-bottom">
							<input type="hidden" name="sessionDataKey" value="{{sessionDataKey}}" />

							<fieldset class="form-group">
								<input class="form-control form-control-2-3" placeholder="Username" id="username" name="username" type="email" bind:value=username>
							</fieldset>
							<fieldset class="form-group">
								<input class="form-control form-control-2-3" type="password" name="password" placeholder="Password" bind:value=password>
							</fieldset>
							<div>
								<input type="submit" class="button" value="Continue">
							</div>
						</form>

					</div>


				</div>
			</div>
		</div>
	</div>
</Layout>

<script>
	import { goto } from 'sapper/runtime.js';
	import Layout from '../_components/Layout.html';
    var getQueryString = function ( field, url ) {
        var href = url ? url : window.location.href;
        var reg = new RegExp( '[?&]' + field + '=([^&#]*)', 'i' );
        var string = reg.exec(href);
        return string ? string[1] : null;
    };

	export default {
		components: { Layout },
        oncreate() {
            this.set({sessionDataKey: getQueryString('sessionDataKey')});
        },

		data() {
			return {
				username: '',
				password: '',
				errors: null

			};
		}


	};
</script>